<!DOCTYPE html>
<html>
<head>
  <title>Page Title</title>
</head>
<body>

  <div id="root"></div>
  <a href="#" id="clickMe">Click me</a>
</body>
<script>
  // Given

  let store = {
    user: {
      first_name: 'John',
      last_name: 'Doe'
    }
  }

  const render = (root, state) => {
    root.innerHTML = App(state)
  }

  const Welcome = (name) => {
    return `Welcome, ${name} to my JavaScript Program!`
  }

  const App = (state) => {
    return `
       <h1>${Welcome(state.user.first_name)}<h1>
      <div> I EXIST! </div>
   `
  }

  window.addEventListener('load', () => {
    render(root, store)
  })
  // But what if state changes at some point in our app?
  // Using the object methods we have learned so far in this course,
  // create a function called updateStore that takes in the old state, the new state, and updates the old state with any new information
  // This won't be a pure function, instead of a return, call the render method again

  const updateStore = (store, newState) => {
    store = Object.assign(store, newState)
    render(root, store)
  }

  document.getElementById('clickMe').addEventListener('click', function() {
    console.log('I have been clicked.');

    let store = {
      user: {
        first_name: 'John',
        last_name: 'Doe'
      }
    }

    let storeNew = {
      user: {
        first_name: 'Tom',
        last_name: 'Sawyer'
      }
    }

    updateStore(store, storeNew)
  });
</script>
</html>